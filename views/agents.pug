doctype html 
html 
    head 
        title Your Agents - Imagine Dungeons 
        link(rel="stylesheet" href="/static/css/style.css")
        link(rel="icon" type="image/x-icon" href="/static/images/favicon.ico")
        script(src="https://kit.fontawesome.com/534e6fef90.js" crossorigin="anonymous")
        link(rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.11.0/css/all.css")
    body 
        #loading
            .loading-animation 
            p Loading

        include includes/nav
        .games 
            div(onclick="createAgent()")#create-game
                .content
                    div
                        i.fa-solid.fa-plus
                        br
                        br
                        p Create Agent
            if agents
                each agent in agents 
                    div.game-card
                        .content
                            img(src="/static/images/ai.jpeg")
                            .icons 
                                a(href="/agents/"+agent._id)
                                    i.fa-solid.fa-code
                                a(onclick="deleteAgent('"+agent._id+"')")
                                    i.fa-solid.fa-trash-can
                            .subcontent
                                h4= agent.name
                                p Last updated on #{agent.updatedAt}

        include includes/footer 
            

script.
    window.addEventListener("load", function() {
        const loading = document.querySelector("#loading");
        loading.style.display = "none";
    });
    function createAgent() {
        window.location = '/agents/create';
    }
    function deleteAgent(id) {
        var answer = window.confirm("Do you want to delete this agent?");
        if (answer) {
            window.location = '/agents/delete/'+id;
        }
    }